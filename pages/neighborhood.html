<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lois - Neighborhood</title>

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />


    <!-- UIkit CSS -->
    <link rel="stylesheet" href="../uikit-3.2.1/css/uikit.min.css" />
    <!-- UIkit JS -->
    <script src="../uikit-3.2.1/js/uikit-icons.min.js"></script>
    <script src="../uikit-3.2.1/js/uikit.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body uk-scrollspy="cls: uk-animation-slide-bottom; target: .lottery-layer; delay: 500; repeat: true">
<!--Navigation start -->
<div id="mobile" class="lois-navigation__mobile__tabs">
    <ul class="lois-navigation__mobile__tabs__nav">
        <li><a href="../index.html">Building</a></li>
        <li><a href="./residences.html">Apartments</a></li>
        <li><a href="./neighborhood.html" class="active">Neighborhood</a></li>
        <li><a href="./lottery.html">Lottery</a></li>
    </ul>
    <a href="tel:123-456-7890" class="lois-navigation__mobile__tabs--call" >Call</a>
</div>
<nav class="lois-navigation">
        <span class="lois-navigation--address">
             <img src="../images/eho.svg" alt="address" class="lois-navigation--icon">
            350 Clarkson Avenue Brooklyn NY 11226
             <a class="number" href="tel:123-456-7890">(833) 310 3001   info@TheLois.com</a>
        </span>

    <div class="lois-navigation__mobile">
        <img src="../images/form.svg" alt="email" id="emailIcon" class="lois-navigation__mobile-email uk-animation-fade" href="#modal-center" uk-toggle>
        <div uk-toggle="target: #mobile; cls: show-mobile" id="mobile-icon" onclick="toggleNavIcon()">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <div class="lois-navigation-tabs">
        <ul class="lois-navbar-nav">
            <li class="lois-navbar-nav__tabs"><a href="../index.html">Building</a></li>
            <li class="lois-navbar-nav__tabs"><a href="./residences.html">Apartments</a></li>
            <li class="lois-navbar-nav__tabs"><a href="./neighborhood.html">Neighborhood</a></li>
            <li class="lois-navbar-nav__tabs"><a href="./lottery.html">Lottery</a></li>
            <li class="lois-navbar-nav__tabs"><a href="#modal-center" uk-toggle>Contact</a></li>
        </ul>
    </div>
</nav>
<!-- Navigation end -->
<div class="lois">
    <!-- Header start -->
    <div class="lois-header neighborhood-header">
        <img src="../images/Group%208.svg" alt="Logo" class="lois-header-logo">
        <div class="lois-header__neigh">

            <div class="lois-header__neigh__item" onclick="toggleActive(event)">

                <h2 class="white-title" onclick="resetAll()">All</h2>
                <h2 class="white-title" onclick="markerSelect('food')">Food</h2>
                <h2 class="white-title" onclick="markerSelect('drink')">Drink</h2>
                <h2 class="white-title" onclick="markerSelect('convenience')">Convenience</h2>
                <h2 class="white-title" onclick="markerSelect('lifestyle')">Lifestyle</h2>
            </div>

        </div>
    </div>
    <!-- Header end -->

    <!-- Map -->
    <div class="location">
        <div id="map"></div>
        <div class="slide-location uk-animation-slide-right" id="map-slide" >
            <div class="slide-location-elements" id="slide-location">

            </div>
        </div>
    </div>
    <!-- end Map -->


    <!-- Building Apartments -->
    <div class="building neighborhood-apartments">
        <div class="building__first">
            <div class="building__first--bg" style="background-image: url('../images/eIM8es@2x.png'); opacity: 1;"></div>

            <div class="building-first-description" uk-scrollspy="cls: uk-animation-fade; target: .description-text; delay: 500; repeat: true">
                <div class="description-text">
                    <h2 class="description-text--black">Lorem ipsum dolor sit amet, consectetuer</h2>
                    <h2 class="description-text--white">Cnibh euismod tincidun ut laoreet dolore</h2>
                    <p class="description-text--content">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy
                        nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.
                        Ut wisi enim ad minim veniam, quis nostrud exerci Lorem ipsum dolor sit amet,
                        consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut
                        laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis
                    </p>
                </div>
                <div class="building__first-description--bg" style="background-image: url('../images/MGTjWW@2x.png')"></div>
            </div>
        </div>

        <!-- Slider -->
        <div class="slider-box" uk-slideshow="animation: pull">
            <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1">

                <ul class="uk-slideshow-items">
                    <li>
                        <img src="../images/575_4thAve-8@2x.png" alt="" uk-cover>
                    </li>
                    <li>
                        <img src="../images/575_4thAve-8@2x.png" alt="" uk-cover>
                    </li>
                    <li>
                        <img src="../images/575_4thAve-8@2x.png" alt="" uk-cover>
                    </li>
                </ul>

                <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slideshow-item="previous"></a>
                <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slideshow-item="next"><span class="next-text">Something</span></a>

            </div>
            <ul class="uk-slideshow-nav uk-dotnav uk-flex-center uk-margin lois-dots"></ul>
        </div>
        <!-- End Slider -->
    </div>
    <!-- end Building apartments -->

    <!-- Contact start -->
    <div id="modal-center" class="uk-flex-top" uk-modal>
        <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical modal-contact">

            <button class="uk-modal-close-default" type="button" uk-close></button>
            <div class="modal-contact__titles">
                <h1 class="modal-contact__titles--dark">Lorem ipsum</h1>
                <h1 class="modal-contact__titles--light">Cnibh euismod tincid</h1>
            </div>
            <form class="modal-contact-form" action="">
                <div class="modal-contact-form__section">
                    <input type="text" id="name" class="modal-contact-form__section--input" placeholder="Name">
                </div>
                <div class="modal-contact-form__section">
                    <input type="text" id="email" class="modal-contact-form__section--input" placeholder="Email address">
                </div>
                <button class="modal-contact-form--submit">Send</button>
            </form>
            <div class="modal-contact-info">
                <p class="modal-contact-info--message">
                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit,
                    sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna
                    aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud
                    exerci Lorem ipsum dolor sit amet, consectetuer adipiscing elit,
                    sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.
                </p>
            </div>

        </div>
    </div>
    <!-- Contact end -->
</div>
<!-- Lottery layer -->
<div class="lottery-layer">
    <div class="lottery-open">
        <h1 class="lottery-open__title--black">THE LOIS LOTTERY IS NOW OPEN!</h1>
        <h1 class="lottery-open__title--white click-here" onclick="location.href='./lottery.html';">click here to learn more</h1>
        <h1 class="lottery-open__title--white learn-more" onclick="location.href='./lottery.html';">Learn more</h1>
    </div>
    <div class="lottery-ending">
        <h1 class="lottery-open__title--black">ENDING IN</h1>
        <div class="lottery-ending__time" uk-countdown="date: 2019-12-28T20:39:56+00:00">
            <div class="lottery-ending__time__value">
                <span class="lottery-open__title--white uk-countdown-number uk-countdown-days"></span>
                <span class="lottery-ending__time__value--text">Days</span>
            </div>
            <hr class="uk-divider-vertical">
            <div class="lottery-ending__time__value">
                <span class="lottery-open__title--white uk-countdown-number uk-countdown-hours"></span>
                <span class="lottery-ending__time__value--text">Hours</span>
            </div>
            <hr class="uk-divider-vertical">
            <div class="lottery-ending__time__value">
                <span class="lottery-open__title--white uk-countdown-number uk-countdown-minutes"></span>
                <span class="lottery-ending__time__value--text">Minutes</span>
            </div>
        </div>
    </div>
</div>
<!-- Lottery end -->


<script>
    let zoomMap = 15;
    let screenWidth = window.innerWidth || document.body.clientWidth;

    if (screenWidth < 601) {
        zoomMap = 12
    }

    let allowInteractive = true;
    if ("ontouchstart" in document.documentElement) {
        allowInteractive = false;
    }
    let currentMarkers=[];
    let markersDescriptions=[];
    let mapAll = []

    mapboxgl.accessToken = 'pk.eyJ1IjoibWlsYW5rIiwiYSI6ImNrMWxtMzNoczA3NTkzY3F4YmlpYW90ODEifQ.niMMVZ3Nc2EQMKkV5Qkb_Q';

    let map = new mapboxgl.Map({
        container: 'map',
        style: {
            "version": 8,
            "name": "Basic-copy",
            "metadata": {
                "mapbox:origin": "basic-template",
                "mapbox:autocomposite": true,
                "mapbox:type": "template",
                "mapbox:sdk-support": {
                    "js": "0.54.0",
                    "android": "7.4.0",
                    "ios": "4.11.0"
                },
                "mapbox:groups": {
                    "9f87387e10111589208a0894cd1f0da9": {
                        "name": "Group",
                        "collapsed": false
                    }
                }
            },
            "center": [-73.95122929381489, 40.658562669275454],
            "zoom": 16.729194099699956,
            "bearing": 0,
            "pitch": 0,
            "sources": {
                "composite": {
                    "url": "mapbox://mapbox.mapbox-streets-v8",
                    "type": "vector"
                }
            },
            "sprite": "mapbox://sprites/milank/ck20xf0v9dcj71cp7iyuw8pgt/2a402me31ovu0g1k832hcf39y",
            "glyphs": "mapbox://fonts/milank/{fontstack}/{range}.pbf",
            "layers": [
                {
                    "id": "background",
                    "type": "background",
                    "layout": {},
                    "paint": {"background-color": "#f0f0f0"}
                },
                {
                    "id": "landuse",
                    "type": "fill",
                    "source": "composite",
                    "source-layer": "landuse",
                    "minzoom": 5,
                    "filter": [
                        "match",
                        ["get", "class"],
                        ["airport", "hospital", "park", "pitch", "school"],
                        true,
                        false
                    ],
                    "layout": {},
                    "paint": {
                        "fill-color": [
                            "match",
                            ["get", "class"],
                            ["airport"],
                            "hsla(345, 100%, 31%, 0)",
                            ["hospital"],
                            "#f0f0f0",
                            ["park", "pitch"],
                            "hsl(78, 0%, 100%)",
                            ["school"],
                            "#f0f0f0",
                            "hsla(0, 0%, 0%, 0)"
                        ],
                        "fill-opacity": [
                            "interpolate",
                            ["linear"],
                            ["zoom"],
                            5,
                            0,
                            6,
                            1
                        ],
                        "fill-pattern": "test"
                    }
                },
                {
                    "id": "water",
                    "type": "fill",
                    "source": "composite",
                    "source-layer": "water",
                    "filter": ["all"],
                    "layout": {},
                    "paint": {"fill-color": "hsl(170, 100%, 55%)"}
                },
                {
                    "id": "road",
                    "type": "line",
                    "source": "composite",
                    "source-layer": "road",
                    "minzoom": 5,
                    "filter": [
                        "all",
                        ["==", ["geometry-type"], "LineString"],
                        ["!=", ["get", "type"], "service:parking_aisle"],
                        [
                            "match",
                            ["get", "structure"],
                            ["bridge", "tunnel"],
                            false,
                            true
                        ],
                        [
                            "match",
                            ["get", "class"],
                            [
                                "motorway",
                                "motorway_link",
                                "trunk",
                                "trunk_link",
                                "primary",
                                "primary_link",
                                "secondary",
                                "secondary_link",
                                "tertiary",
                                "tertiary_link",
                                "street",
                                "street_limited",
                                "service",
                                "track"
                            ],
                            true,
                            false
                        ]
                    ],
                    "layout": {"line-round-limit": 1, "line-cap": "round"},
                    "paint": {
                        "line-width": [
                            "interpolate",
                            ["exponential", 1.5],
                            ["zoom"],
                            0,
                            [
                                "match",
                                ["get", "class"],
                                ["motorway", "trunk", "primary"],
                                1,
                                ["secondary", "tertiary"],
                                0.5,
                                [
                                    "motorway_link",
                                    "trunk_link",
                                    "street",
                                    "street_limited"
                                ],
                                0.5,
                                0
                            ],
                            5,
                            [
                                "match",
                                ["get", "class"],
                                ["motorway", "trunk", "primary"],
                                0.1,
                                "tertiary",
                                0.01,
                                0
                            ],
                            18,
                            [
                                "match",
                                ["get", "class"],
                                ["motorway", "trunk", "primary"],
                                3,
                                ["secondary", "tertiary"],
                                3,
                                [
                                    "motorway_link",
                                    "trunk_link",
                                    "street",
                                    "street_limited"
                                ],
                                3,
                                3
                            ]
                        ],
                        "line-color": [
                            "match",
                            ["get", "class"],
                            [
                                "street",
                                "street_limited",
                                "service",
                                "track",
                                "secondary_link",
                                "tertiary_link",
                                "primary_link",
                                "trunk_link"
                            ],
                            "hsl(38, 0%, 0%)",
                            "",
                            "hsl(0, 0%, 0%)",
                            "hsl(0, 0%, 0%)"
                        ],
                        "line-gap-width": 0
                    }
                },
                {
                    "id": "road-label",
                    "type": "symbol",
                    "source": "composite",
                    "source-layer": "road",
                    "minzoom": 12,
                    "filter": [
                        "match",
                        ["get", "class"],
                        [
                            "motorway",
                            "trunk",
                            "primary",
                            "secondary",
                            "tertiary",
                            "street",
                            "street_limited",
                            "pedestrian"
                        ],
                        true,
                        false
                    ],
                    "layout": {
                        "text-size": [
                            "interpolate",
                            ["linear"],
                            ["zoom"],
                            9,
                            [
                                "match",
                                ["get", "class"],
                                [
                                    "motorway",
                                    "trunk",
                                    "primary",
                                    "secondary",
                                    "tertiary"
                                ],
                                10,
                                9
                            ],
                            20,
                            [
                                "match",
                                ["get", "class"],
                                [
                                    "motorway",
                                    "trunk",
                                    "primary",
                                    "secondary",
                                    "tertiary"
                                ],
                                15,
                                14
                            ]
                        ],
                        "text-max-angle": 30,
                        "text-transform": "uppercase",
                        "text-font": ["Caveat Bold", "Arial Unicode MS Regular"],
                        "symbol-placement": "line",
                        "text-padding": 1,
                        "visibility": "visible",
                        "text-rotation-alignment": "map",
                        "text-pitch-alignment": "viewport",
                        "text-field": ["coalesce", ["get", "name_en"], ["get", "name"]],
                        "text-letter-spacing": 0.05
                    },
                    "paint": {
                        "text-color": "hsl(0, 0%, 0%)",
                        "text-halo-color": "#f0f0f0",
                        "text-halo-width": 5
                    }
                }
            ],
            "created": "2019-10-21T21:22:55.278Z",
            "id": "ck20xf0v9dcj71cp7iyuw8pgt",
            "modified": "2019-10-21T21:37:44.450Z",
            "owner": "milank",
            "visibility": "private",
            "draft": false
        },
        center: [-73.948341, 40.655170],
        zoom: zoomMap,
        interactive: allowInteractive
    });

    // disable map zoom when using scroll
    map.scrollZoom.disable();
    map.addControl(new mapboxgl.NavigationControl(), 'top-left');

    map.on('load', function() {
        // Add GeoJSON data
        map.addSource('source', {
            "type": "geojson",
            "data": {
                "type": "Feature",
                "properties": {},
                "geometry": {
                    "type": "Polygon",
                    "coordinates": []
                }
            }
        });


        map.loadImage('http://localhost:63342/lois3/images/test.png', function(err, image) {
            if (err) throw err;
            map.addImage('pattern', image);
            map.addLayer({
                "id": "pattern-layer",
                "type": "fill",
                "source": "source",
                "paint": {
                    "fill-pattern": "pattern"
                }
            });
        });
    });

    var geojson = {
        type: 'FeatureCollection',
        features: [
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.946917, 40.657192]
                },
                properties: {
                    title: 'Mapbox',
                    description: 'Washington, D.C.',
                    properties: {icon: 'drink'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.955072, 40.660209]
                },
                properties: {
                    title: 'Mapbox',
                    description: 'Loud Baby',
                    properties: {icon: 'drink'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.946964, 40.662358]
                },
                properties: {
                    title: 'Mapbox',
                    description: 'Pels Pie',
                    properties: {icon: 'drink'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.952145, 40.658152]
                },
                properties: {
                    title: 'Mapbox',
                    description: 'SRB caffe',
                    properties: {icon: 'drink'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.950821, 40.654327]
                },
                properties: {
                    title: 'Convenience',
                    description: 'Convenience NY',
                    properties: {icon: 'convenience'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.939114, 40.659819]
                },
                properties: {
                    title: 'Convenience',
                    description: 'Syshi Tatshu',
                    properties: {icon: 'convenience'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.951308, 40.655575]
                },
                properties: {
                    title: 'Convenience',
                    description: 'Heroes',
                    properties: {icon: 'convenience'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.946887, 40.654916]
                },
                properties: {
                    title: 'Restoran',
                    description: 'Best restoran',
                    properties: {icon: 'food'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.938728, 40.655424]
                },
                properties: {
                    title: 'Restoran',
                    description: 'Kulus',
                    properties: {icon: 'food'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.959576, 40.655944]
                },
                properties: {
                    title: 'Restoran',
                    description: 'Camillo',
                    properties: {icon: 'food'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.950480, 40.655049]
                },
                properties: {
                    title: 'Restoran',
                    description: 'Best restoran2',
                    properties: {icon: 'food'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.948711, 40.656177]
                },
                properties: {
                    title: 'Lifestyle',
                    description: 'Central Garder',
                    properties: {icon: 'lifestyle'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.943919, 40.653698]
                },
                properties: {
                    title: 'Lifestyle',
                    description: 'Ada shop mol',
                    properties: {icon: 'lifestyle'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.952927, 40.653014]
                },
                properties: {
                    title: 'Lifestyle',
                    description: 'Ada shop mol',
                    properties: {icon: 'lifestyle'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.951236, 40.654520]
                },
                properties: {
                    title: 'Lifestyle',
                    description: 'Central Open',
                    properties: {icon: 'lifestyle'},
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-73.948341, 40.655170]
                },
                properties: {
                    title: 'Mapbox',
                    description: '350 Clarkson Avenue Brooklyn NY 11226',
                    properties: {icon: 'pointer'},
                }
            }
        ]
    };

    // add markers to map
    geojson.features.forEach(function(marker) {
        let popup = new mapboxgl.Popup({ offset: 25 })
            .setText(marker.properties.description);

        // create a HTML element for each feature
        let el = document.createElement('div');
        let markerStyle = marker.properties.properties.icon;
        el.className = markerStyle;

        // make a marker for each feature and add to the map
        let oneMarker = new mapboxgl.Marker(el)
            .setLngLat(marker.geometry.coordinates)
            .setPopup(popup)
            .addTo(map);

        currentMarkers.push(oneMarker);
        mapAll.push(oneMarker);
    });

    function markerSelect(selectedMarker) {
        markersDescriptions = [];
        let child = document.getElementById('map-slide');
        child.classList.add("open");
        console.log(currentMarkers);

        if (currentMarkers!==null) {
            for (let i = currentMarkers.length - 1; i >= 0; i--) {
                currentMarkers[i].remove();
            }
        }

        geojson.features.forEach(function(marker) {
            let popup = new mapboxgl.Popup({ offset: 25 })
                .setText(marker.properties.description);

            // create a HTML element for each feature
            let el = document.createElement('div');
            let markerStyle = marker.properties.properties.icon;

            if(markerStyle === selectedMarker || markerStyle === 'pointer') {
                el.className = markerStyle;
                // make a marker for each feature and add to the map
                let oneMarker = new mapboxgl.Marker(el)
                    .setLngLat(marker.geometry.coordinates)
                    .setPopup(popup)
                    .addTo(map);

                currentMarkers.push(oneMarker);
                markersDescriptions.push(marker.properties.description);
            }


            openSlideNav(markersDescriptions);

        });
    }
    function toggleActive(e) {
        let elems = document.querySelectorAll(".active");
        console.log(elems);
        [].forEach.call(elems, function(el) {
            el.classList.remove("active");
            el.classList.add("white-title");
        });
        e.target.className = "active";
    }

    function toggleNavIcon() {
        let child = document.getElementById('mobile-icon');

        let email = document.getElementById("emailIcon");

        if(child.classList.contains("open")) {
            child.classList.add("close");
            child.classList.remove("open");
            email.classList.remove("fadeOut");
        } else {
            child.classList.add("open");
            if(child.classList.contains("close")){
                child.classList.remove("close");
                email.classList.add("fadeOut");
            }
            email.classList.add("fadeOut");
        }
    }

    function openSlideNav(array) {
        let myNode=document.getElementById("slide-location");
        myNode.innerHTML = '';

        if(array.length) {
            for (let i=0; i < array.length; i++) {
                if(array[i] !== '350 Clarkson Avenue Brooklyn NY 11226') {
                    let node = document.createElement("span");
                    node.setAttribute("id", array[i]);
                    let elementText = '- ' + array[i];
                    let text = document.createTextNode(elementText);
                    node.appendChild(text);
                    document.getElementById("slide-location").appendChild(node);
                }

            }
        }

    }
    function resetAll() {

        let element = document.getElementById("map-slide");

        element.classList.remove("open");

        markersDescriptions=[];
        if (currentMarkers!==null) {
            for (let i = currentMarkers.length - 1; i >= 0; i--) {
                currentMarkers[i].remove();
            }
        }

        geojson.features.forEach(function(marker) {
            let popup = new mapboxgl.Popup({ offset: 25 })
                .setText(marker.properties.description);

            // create a HTML element for each feature
            let el = document.createElement('div');
            let markerStyle = marker.properties.properties.icon;

            el.className = markerStyle;
            // make a marker for each feature and add to the map
            let oneMarker = new mapboxgl.Marker(el)
                .setLngLat(marker.geometry.coordinates)
                .setPopup(popup)
                .addTo(map);

            currentMarkers.push(oneMarker);
            markersDescriptions.push(marker.properties.description);

        });

    }

    document.getElementById("slide-location").addEventListener("click", singleElement);


    function singleElement(event) {
        let elementId = event.target.id;
        if (currentMarkers!==null) {
            for (let i = currentMarkers.length - 1; i >= 0; i--) {
                currentMarkers[i].remove();
            }
        }

        geojson.features.forEach(function(marker) {

            let popup = new mapboxgl.Popup({ offset: 25 })
                .setText(marker.properties.description);

            // create a HTML element for each feature
            let el = document.createElement('div');
            let markerStyle = marker.properties.properties.icon;

            let markerDescription = marker.properties.description;

            if(markerDescription === elementId || markerStyle === 'pointer') {
                el.className = markerStyle;
                // make a marker for each feature and add to the map
                let oneMarker = new mapboxgl.Marker(el)
                    .setLngLat(marker.geometry.coordinates)
                    .setPopup(popup)
                    .addTo(map);

                currentMarkers.push(oneMarker);
                markersDescriptions.push(marker.properties.description);
            }

        });

    }
</script>

<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

</body>
</html>
